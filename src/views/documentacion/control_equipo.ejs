<h2> Endpoint de Control de Equipos </h2>

<!-- GET: Obtener todos los controles de equipo con detalles -->
<details>
  <summary>GET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /api/v1/control_equipo</summary>
  <ul>
    <li><strong>Descripción:</strong> Obtiene una lista de todos los controles de equipo con información detallada de los equipos asociados.</li>
    <br>
    <li><strong>Instrucciones:</strong> No se requieren parámetros adicionales. Devuelve una lista de controles de equipo con sus detalles.</li>
    <br>
    <li><strong>Ejemplo de solicitud:</strong></li>
    <pre>
    GET: /api/v1/control_equipo
    </pre>
    <li><strong>Ejemplo de respuesta:</strong></li>
    <pre>
[
    {
        "id": 1,
        "fecha": "2023-09-01",
        "tecnico": "Juan Pérez",
        "agencia": "Agencia Central",
        "codigo_agencia": "AG001",
        "n_ticket_mesa_ayuda": "TICKET1234",
        "zona_region": "Norte",
        "tipo_solicitud": "Instalación",
        "usuario": "Luis Martínez",
        "observacion": "Instalación completa",
        "detalles": [
            {
                "control_equipo_id": 1,
                "detalle_equipo_id": 10,
                "descripcion_equipo": "Laptop HP",
                "codigo_inventario": "INV12345",
                "serie_inventario": "SER12345",
                "modelo_inventario": "HP Envy",
                "agencia_origen": "Agencia Norte",
                "codigo_agencia": "AG002",
                "marca_inventario": "HP"
            }
        ]
    }
]
    </pre>
    <li><strong>Errores posibles:</strong></li>
    <ul>
      <li><strong><code>500 Internal Server Error:</code></strong> En caso de error en la base de datos o en el servidor.
        <pre><code>
{
    "error": "Error fetching control equipos with details"
}
        </code></pre>
      </li>
    </ul>
  </ul>
</details>

<!-- GET: Obtener control de equipo por ID con detalles -->
<details>
  <summary>GET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /api/v1/control_equipo/:id</summary>
  <ul>
    <li><strong>Descripción:</strong> Obtiene un control de equipo específico según su ID, junto con los detalles de los equipos asociados.</li>
    <br>
    <li><strong>Instrucciones:</strong> El ID del control de equipo se debe proporcionar en la URL como parámetro.</li>
    <br>
    <li><strong>Ejemplo de solicitud:</strong></li>
    <pre>
    GET: /api/v1/control_equipo/1
    </pre>
    <li><strong>Ejemplo de respuesta:</strong></li>
    <pre>
{
    "id": 1,
    "fecha": "2023-09-01",
    "tecnico": "Juan Pérez",
    "agencia": "Agencia Central",
    "codigo_agencia": "AG001",
    "n_ticket_mesa_ayuda": "TICKET1234",
    "zona_region": "Norte",
    "tipo_solicitud": "Instalación",
    "usuario": "Luis Martínez",
    "observacion": "Instalación completa",
    "detalles": [
        {
            "control_equipo_id": 1,
            "detalle_equipo_id": 10,
            "descripcion_equipo": "Laptop HP",
            "codigo_inventario": "INV12345",
            "serie_inventario": "SER12345",
            "modelo_inventario": "HP Envy",
            "agencia_origen": "Agencia Norte",
            "codigo_agencia": "AG002",
            "marca_inventario": "HP"
        }
    ]
}
    </pre>
    <li><strong>Errores posibles:</strong></li>
    <ul>
      <li><strong><code>404 Not Found:</code></strong> Si no se encuentra el control de equipo.
        <pre><code>
{
    "error": "Control de equipo no encontrado"
}
        </code></pre>
      </li>
      <li><strong><code>500 Internal Server Error:</code></strong> En caso de error en la base de datos o en el servidor.
        <pre><code>
{
    "error": "Error al obtener el control de equipo"
}
        </code></pre>
      </li>
    </ul>
  </ul>
</details>

<!-- POST: Crear un nuevo control de equipo con detalles -->
<details>
  <summary>POST&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /api/v1/control_equipo</summary>
  <ul>
    <li><strong>Descripción:</strong> Crea un nuevo control de equipo, vinculándolo con detalles de los equipos asociados.</li>
    <br>
    <li><strong>Instrucciones:</strong> Se debe enviar un JSON en el cuerpo de la solicitud con los campos obligatorios, además de un array de `detalles_equipo` que incluye los detalles de los equipos.</li>
    <br>
    <li><strong>Ejemplo de solicitud:</strong></li>
    <pre>
    POST: /api/v1/control_equipo
    Body: {
        "fecha": "2023-09-01",
        "tecnico_id": 1,
        "agencias_id": 2,
        "n_ticket_mesa_ayuda": "TICKET1234",
        "zona_region": "Norte",
        "detalle_solicitud_id": 3,
        "observacion": "Instalación completa",
        "detalles_equipo": [
            {
                "descripcion_equipo": "Laptop HP",
                "inventario_id": 4,
                "agencias_id": 2
            }
        ]
    }
    </pre>
    <li><strong>Ejemplo de respuesta:</strong></li>
    <pre>
{
    "message": "Control de equipo y detalles creados exitosamente"
}
    </pre>
    <li><strong>Errores posibles:</strong></li>
    <ul>
      <li><strong><code>400 Bad Request:</code></strong> Si faltan campos obligatorios.
        <pre><code>
{
    "error": "Faltan campos obligatorios"
}
        </code></pre>
      </li>
      <li><strong><code>500 Internal Server Error:</code></strong> En caso de error en la base de datos o en el servidor.
        <pre><code>
{
    "error": "Error al crear control de equipo"
}
        </code></pre>
      </li>
    </ul>
  </ul>
</details>
